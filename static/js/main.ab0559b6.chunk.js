(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(42)},29:function(e,t,n){},31:function(e,t,n){},35:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(19),r=n.n(o),u=n(44),s=(n(29),n(4)),c=n(5),i=n(8),m=n(6),d=n(9),h=n(45),p=n(43),v=n(46),f=n(10),b=n.n(f),E=n(11),y=n(13),j=(n(31),function(e){return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",{className:"FormControl"},l.a.createElement("label",null,"Question"),l.a.createElement("input",{type:"text",name:"question",placeholder:"Your question?",value:e.question,onChange:e.handleChange})),l.a.createElement("div",{className:"FormControl"},l.a.createElement("label",null,"Type"),l.a.createElement("select",{value:e.type,onChange:e.handleChange,name:"type"},l.a.createElement("option",{value:"text"},"Text"),l.a.createElement("option",{value:"number"},"Number"),l.a.createElement("option",{value:"yes/no"},"Yes/No")))),l.a.createElement("button",{onClick:e.handleAddInput,disabled:!e.disabled},"Add Sub-Input"),l.a.createElement("button",{onClick:e.handleDelete,disabled:e.disableDelete},"Delete"),l.a.createElement("button",{onClick:e.handleSave,disabled:!e.disabled},"Save Form"))}),O=function(e){return l.a.createElement("div",{className:"FormControl"},l.a.createElement("label",null,"Condiotion"),l.a.createElement("select",null,l.a.createElement("option",{value:"==="},"Equals")),l.a.createElement("input",{type:"text",name:"value",onChange:e.handleChange,value:e.value}))},C=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"FormControl"},l.a.createElement("label",null,"Condiotion"),l.a.createElement("select",{value:e.condition,name:"condition",onChange:e.handleChange},l.a.createElement("option",{value:"==="},"Equals"),l.a.createElement("option",{value:">"},"Greather than"),l.a.createElement("option",{value:"<"},"Less than")),l.a.createElement("input",{type:"number",name:"value",onChange:e.handleChange,value:e.value})))},g=function(e){return l.a.createElement("div",{className:"FormControl"},l.a.createElement("label",null,"Condiotion"),l.a.createElement("select",{name:"condition",onChange:e.handleChange},l.a.createElement("option",{value:"==="},"Equals")),l.a.createElement("select",{name:"value",onChange:e.handleChange,value:e.value},l.a.createElement("option",{value:"no"},"No"),l.a.createElement("option",{value:"yes"},"Yes")))},x=function(e){return l.a.createElement("div",null,l.a.createElement(S,e))},S=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={question:"",type:"text",condition:"===",value:"",subInput:null,formObject:[]},n.handleDelete=function(){var e=n.state.formObject.map(function(e){return e});e.pop(),n.setState({subInput:null,formObject:e})},n.handleChange=function(e){var t=e.target.name;n.setState(Object(y.a)({},t,e.target.value))},n.handleAddInput=function(){var e={question:n.state.question,type:n.state.type,condition:n.state.condition,value:n.state.value},t=Object(E.a)(n.state.formObject);t.push(e),n.setState({formObject:t},function(){return n.handleSubImput()})},n.handleSubImput=function(){"yes/no"===n.state.type?n.setState({subInput:l.a.createElement(x,{type:"yes/no",formObject:n.state.formObject,handleDelete:n.handleDelete})}):"text"===n.state.type?n.setState({subInput:l.a.createElement(x,{type:"text",formObject:n.state.formObject,handleDelete:n.handleDelete})}):"number"===n.state.type&&n.setState({subInput:l.a.createElement(x,{type:"number",formObject:n.state.formObject,handleDelete:n.handleDelete})})},n.handleSave=function(){var e={question:n.state.question,type:n.state.type,condition:n.state.condition,value:n.state.value},t=Object(E.a)(n.state.formObject);t.push(e),n.setState({formObject:t},function(){return n.saveForm()})},n.saveForm=function(){var e=n.state.formObject;b.a.open("db-FormBuilder",2).then(function(t){var n=t.transaction("Forms","readwrite");return n.objectStore("Forms").put(e),n.complete}).then(function(e){return console.log("object stored")})},n.validateInputs=function(){return!(!n.state.question||!n.props.value&&!n.state.value||n.state.subInput)},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.formObject&&this.setState({formObject:this.props.formObject})}},{key:"render",value:function(){var e;return"yes/no"===this.props.type?e=l.a.createElement(g,{handleChange:this.handleChange,value:this.state.value,condition:this.state.condition}):"text"===this.props.type?e=l.a.createElement(O,{handleChange:this.handleChange,value:this.state.value,condition:this.state.condition}):"number"===this.props.type&&(e=l.a.createElement(C,{handleChange:this.handleChange,value:this.state.value,condition:this.state.condition})),l.a.createElement("div",null,l.a.createElement("div",{className:"Form"},e,l.a.createElement(j,{handleChange:this.handleChange,handleDelete:this.props.handleDelete,handleSave:this.handleSave,handleAddInput:this.handleAddInput,formObject:this.state.formObject,question:this.state.question,disabled:this.validateInputs(),disableDelete:this.state.subInput,type:this.state.type})),this.state.subInput)}}]),t}(a.Component),k=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={form:[]},n.handleAddInput=function(){var e=Object(E.a)(n.state.form);e.push([]),n.setState({form:e})},n.handleDelete=function(e){var t=Object(E.a)(n.state.form);t.splice(e,1),n.setState({form:t})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h3",null,"Form builder"),this.state.form.map(function(t,n){return l.a.createElement(S,{key:n,value:!0,handleDelete:function(){return e.handleDelete(n)}})}),l.a.createElement("button",{onClick:this.handleAddInput},"Add Input"))}}]),t}(a.Component),F=n(16),I=n.n(F),w=n(20),N=n(12),q=function(e){var t=null;switch(e.type){case"text":t=l.a.createElement("div",{className:"FormControl"},l.a.createElement("label",null,"".concat(e.question,"? ")),l.a.createElement("input",{type:"text",name:"value",value:e.value,onChange:e.onChange}));break;case"number":t=l.a.createElement("div",{className:"FormControl"},l.a.createElement("label",null,"".concat(e.question,"? ")),l.a.createElement("input",{type:"number",name:"value",value:e.value,onChange:e.onChange}));break;case"yes/no":t=l.a.createElement("div",{className:"FormControl"},l.a.createElement("label",null,"".concat(e.question,"? ")),l.a.createElement("select",{name:"value",onChange:e.onChange,value:e.value},l.a.createElement("option",{value:"no"},"No"),l.a.createElement("option",{value:"yes"},"Yes")));break;default:t=null}return l.a.createElement("div",null,t)},D=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={value:"",formJson:"",formResult:[],index:0},n.handleChange=function(e){n.setState({value:e.target.value},function(){n.checkIndex()})},n.checkIndex=function(){n.state.index<n.state.formJson.length-1&&n.validateInput()},n.validateInput=function(){if("==="===n.state.formJson[n.state.index+1].condition){if(n.state.formJson[n.state.index+1].value===n.state.value){var e=Object(N.a)({},n.state.formResult);e[n.state.index].answer=n.state.value,n.setState({formResult:e,index:n.state.index+1,value:""})}}else if(">"===n.state.formJson[n.state.index+1].condition){if(Number(n.state.formJson[n.state.index+1].value)<Number(n.state.value)){var t=Object(N.a)({},n.state.formResult);t[n.state.index].answer=n.state.value,n.setState({formResult:t,index:n.state.index+1,value:""})}}else if("<"===n.state.formJson[n.state.index+1].condition&&Number(n.state.formJson[n.state.index+1].value)>Number(n.state.value)){var a=Object(N.a)({},n.state.formResult);a[n.state.index].answer=n.state.value,n.setState({formResult:a,index:n.state.index+1,value:""})}},n.handleSubmit=function(e){e.preventDefault();var t=Object(N.a)({},n.state.formResult);t[n.state.index].answer=n.state.value,n.setState({formResult:t},function(){return console.log(n.state.formResult)})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.data.map(function(e){return[e.question]});this.setState({formJson:this.props.data,formResult:e})}},{key:"render",value:function(){var e=this.props.data[this.state.index],t=null;return this.state.index===this.state.formJson.length-1&&(t=l.a.createElement("p",null,"No more questions. Thanks")),l.a.createElement("div",null,l.a.createElement("form",{className:"Form",onSubmit:this.handleSubmit},l.a.createElement(q,{type:e.type,question:e.question,name:"value",value:this.state.value,onChange:this.handleChange}),t,l.a.createElement("button",{type:"submit",disabled:!t},"Submit")))}}]),t}(a.Component),A=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={forms:null},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;function t(){return(t=Object(w.a)(I.a.mark(function e(){var t,n,a,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.open("db-FormBuilder",2);case 2:if(!(t=e.sent).objectStoreNames.contains("Forms")){e.next=11;break}return n=t.transaction("Forms","readonly"),a=n.objectStore("Forms"),e.next=8,a.getAll();case 8:return l=e.sent,t.close(),e.abrupt("return",l);case 11:t.close();case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().then(function(t){e.setState({forms:t})})}},{key:"render",value:function(){var e=null;return this.state.forms&&(e=this.state.forms.map(function(e,t){return l.a.createElement(D,{key:t,data:e})})),l.a.createElement("div",null,l.a.createElement("h3",null,"Your Forms"),e)}}]),t}(a.Component),J=(n(35),Object(v.a)(function(e){return l.a.createElement("nav",null,l.a.createElement("ul",{className:"Nav"},l.a.createElement("li",{onClick:function(){e.history.push("/form-builder")}},"Form Builder"),l.a.createElement("li",{onClick:function(){e.history.push("/form")}},"From")))})),R=(n(40),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){b.a.open("db-FormBuilder",2,function(e){return e.createObjectStore("Forms",{autoIncrement:!0})}).then(function(e){return console.log("Object created")})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null,"Skygate form")),l.a.createElement(J,null),l.a.createElement(h.a,null,l.a.createElement(p.a,{path:"/form-builder",component:k}),l.a.createElement(p.a,{path:"/form",component:A})))}}]),t}(a.Component)),B=Object(v.a)(R);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=l.a.createElement(u.a,null,l.a.createElement(B,null));r.a.render(Y,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.ab0559b6.chunk.js.map